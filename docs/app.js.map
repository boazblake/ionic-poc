{"version":3,"sources":["app/App.js","app/Http.js","app/Models.js","app/components/action-sheet.js","app/components/index.js","app/components/layout.js","app/index.js","app/initialize.js","app/pages/alarm.js","app/pages/fns.js","app/pages/home.js","app/pages/index.js","app/pages/search-page.js","app/pages/tab.js","app/routes/index.js","app/routes/main-routes.js","app/secrets.js"],"names":["toRoutes","mdl","acc","route","onmatch","args","path","fullroute","group","includes","state","isAuth","m","set","get","render","component","App","Routes","reduce","onProgress","e","lengthComputable","Model","loadingProgress","max","total","value","loaded","redraw","onLoad","onLoadStart","isLoading","onLoadEnd","xhrProgress","config","xhr","onprogress","onload","onloadstart","onloadend","_http","request","headers","url","contentType","method","_task","Task","rej","res","then","getTask","postTask","putTask","deleteTask","backEndlessBaseUrl","tvMazeSearchUrl","baseUrl","query","tvMazeShowByIdUrl","id","backendlessUrl","searchUrl","tvMazeBaseUrl","tvMazeDetailsUrl","http","Stream","paginate","page","total_pages","total_results","searchItem","showMenu","details","selected","currentList","data","shows","errors","search","user","lists","showSettings","showAction","actionSheet","actionSheetController","create","header","buttons","text","role","x","console","log","present","HomeToolBar","view","attrs","map","list","onclick","SearchToolBar","Toolbar","name","Footer","r","tab","slot","icon","Layout","children","root","document","body","module","hot","accept","process","env","NODE_ENV","navigator","window","addEventListener","serviceWorker","register","registration","catch","registrationError","require","Alarm","placeholder","disabled","v","formatError","error","JSON","parse","stringify","getEpisodeLink","links","formatLinks","undefined","makeHttps","toEpisodeViewModel","season","number","airdate","image","_links","original","medium","toDetailsViewModel","tvmazeId","objectId","listStatus","notes","webChannel","network","status","genres","premiered","summary","genre","toSearchViewModel","toDbModel","onError","type","rejectWithAttr","attr","updateResults","result","show","updateShowStatus","getShows","searchShowsTask","itemSelected","propIsDefined","not","showListSelection","updateListStatus","listType","createBody","dto","updateOrder","order","length","toDto","addUserShowsTask","chain","_","updateUserShowsTask","deleteShowTask","updateShowDetailsTask","getShowDetailsTask","getShowDetails","findShowInDbTask","filterShowsByListType","getEpisodeTask","episodeUrl","deleteShow","fork","updatedShows","getShowsTask","Home","oninit","src","side","color","SearchPage","Tab","MainRoutes","isNav","options","tmdbApiKey","tmdbAuth","Authorization","tmdbBaseUrl","tvMazeApiKey","prismaUrl"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA,IAAMA,QAAQ,GAAIC,GAAD,IAAS,CAACC,GAAD,EAAMC,KAAN,KAAgB;AACxCD,KAAG,CAACC,KAAK,CAACA,KAAP,CAAH,GAAmB;AACjBC,WAAO,EAAE,CAACC,IAAD,EAAOC,IAAP,EAAaC,SAAb,KAA2B;AAClC,UAAIJ,KAAK,CAACK,KAAN,CAAYC,QAAZ,CAAqB,eAArB,KAAyC,CAACR,GAAG,CAACS,KAAJ,CAAUC,MAAV,EAA9C,EAAkE;AAChEC,SAAC,CAACT,KAAF,CAAQU,GAAR,CAAYD,CAAC,CAACT,KAAF,CAAQW,GAAR,EAAZ;AACD;;AACDb,SAAG,CAACS,KAAJ,CAAUP,KAAV,GAAkBA,KAAlB;AACAA,WAAK,CAACC,OAAN,CAAcH,GAAd,EAAmBI,IAAnB,EAAyBC,IAAzB,EAA+BC,SAA/B;AACD,KAPgB;AAQjBQ,UAAM,EAAE,MAAMZ,KAAK,CAACa,SAAN,CAAgBf,GAAhB;AARG,GAAnB;AAUA,SAAOC,GAAP;AACD,CAZD;;AAcA,IAAMe,GAAG,GAAIhB,GAAD,IAASA,GAAG,CAACiB,MAAJ,CAAWC,MAAX,CAAkBnB,QAAQ,CAACC,GAAD,CAA1B,EAAiC,EAAjC,CAArB;;eAEegB,G;;;;;;;;;;;;ACjBf;;AACA;;AACA;;;;;;;;;;AAEA,SAASG,UAAT,CAAoBC,CAApB,EAAuB;AACrB,MAAIA,CAAC,CAACC,gBAAN,EAAwB;AACtB;AACAC,oBAAMb,KAAN,CAAYc,eAAZ,CAA4BC,GAA5B,CAAgCJ,CAAC,CAACK,KAAlC;;AACAH,oBAAMb,KAAN,CAAYc,eAAZ,CAA4BG,KAA5B,CAAkCN,CAAC,CAACO,MAApC;;AACAhB,KAAC,CAACiB,MAAF;AACD;AACF;;AAED,SAASC,MAAT,GAAkB;AAChB,SAAO,KAAP;AACD;;AAED,SAASC,WAAT,GAAuB;AACrBR,kBAAMb,KAAN,CAAYsB,SAAZ,CAAsB,IAAtB;;AACA,SAAO,KAAP;AACD;;AACD,SAASC,SAAT,GAAqB;AACnBV,kBAAMb,KAAN,CAAYsB,SAAZ,CAAsB,KAAtB;;AACAT,kBAAMb,KAAN,CAAYc,eAAZ,CAA4BC,GAA5B,CAAgC,CAAhC;;AACAF,kBAAMb,KAAN,CAAYc,eAAZ,CAA4BG,KAA5B,CAAkC,CAAlC;;AACA,SAAO,KAAP;AACD;;AAED,IAAMO,WAAW,GAAG;AAClBC,QAAM,EAAGC,GAAD,IAAS;AACf;AACAA,OAAG,CAACC,UAAJ,GAAiBjB,UAAjB;AACAgB,OAAG,CAACE,MAAJ,GAAaR,MAAb;AACAM,OAAG,CAACG,WAAJ,GAAkBR,WAAlB;AACAK,OAAG,CAACI,SAAJ,GAAgBP,SAAhB;AACD;AAPiB,CAApB;;AAUA,IAAMQ,KAAK,GAAIxC,GAAD,IAAS;AACrBA,KAAG,CAACS,KAAJ,CAAUsB,SAAV,CAAoB,CAAC/B,GAAG,CAACS,KAAJ,CAAUsB,SAA/B;AACA,SAAOpB,CAAC,CAAC8B,OAAT;AACD,CAHD;;AAKA,IAAMC,OAAO,GAAG,CAACC,GAAD,EAAMvC,IAAN,KAAe;AAC7B;AACA,MAAIwC,WAAW,GACb;AAAE,oBAAgB;AAAlB,OACA,CAAC,KAAD,EAAQ,MAAR,EAAgB,KAAhB,EAAuB,OAAvB,EAAgCpC,QAAhC,CAAyCJ,IAAI,CAACyC,MAA9C,CAFF;AAGA,SAAO;AACLH,WAAO,oBAEFE,WAFE;AADF,GAAP;AAMD,CAXD;;AAaA,IAAME,KAAK,GAAIH,GAAD,IAAUvC,IAAD,IACrB,IAAI2C,aAAJ,CAAS,CAACC,GAAD,EAAMC,GAAN,KACPT,KAAK,CAAClB,eAAD,CAAL,CAAaqB,GAAb,gDAAuBvC,IAAvB,GAAgCsC,OAAO,CAACC,GAAD,EAAMvC,IAAN,CAAvC,GAAuD6B,WAAvD,GAAsEiB,IAAtE,CACED,GADF,EAEED,GAFF,CADF,CADF;;AAQA,IAAMG,OAAO,GAAG,SAAVA,OAAU,CAACR,GAAD;AAAA,MAAMvC,IAAN,uEAAa,EAAb;AAAA,SACd0C,KAAK,CAACH,GAAD,CAAL,iCACKvC,IADL;AAEEyC,UAAM,EAAE;AAFV,KADc;AAAA,CAAhB;;AAKA,IAAMO,QAAQ,GAAG,SAAXA,QAAW,CAACT,GAAD;AAAA,MAAMvC,IAAN,uEAAa,EAAb;AAAA,SACf0C,KAAK,CAACH,GAAD,CAAL,iCACKvC,IADL;AAEEyC,UAAM,EAAE;AAFV,KADe;AAAA,CAAjB;;AAKA,IAAMQ,OAAO,GAAG,SAAVA,OAAU,CAACV,GAAD,EAAoB;AAAA,MAAdvC,IAAc,uEAAP,EAAO;AAClC;AACA,SAAO0C,KAAK,CAACH,GAAD,CAAL,iCACFvC,IADE;AAELyC,UAAM,EAAE;AAFH,KAAP;AAID,CAND;;AAOA,IAAMS,UAAU,GAAG,SAAbA,UAAa,CAACX,GAAD;AAAA,MAAMvC,IAAN,uEAAa,EAAb;AAAA,SACjB0C,KAAK,CAACH,GAAD,CAAL,iCACKvC,IADL;AAEEyC,UAAM,EAAE;AAFV,KADiB;AAAA,CAAnB;;AAMA,IAAMU,kBAAkB,GACtB,6GADF;;AAGA,IAAMC,eAAe,GAAIC,OAAD,IAAcC,KAAD,cAChCD,OADgC,6BACNC,KADM,CAArC;;AAGA,IAAMC,iBAAiB,GAAIF,OAAD,IAAcG,EAAD,cAAWH,OAAX,oBAA4BG,EAA5B,CAAvC;;AAEA,IAAMC,cAAc,GAAIlB,GAAD,IAASY,kBAAkB,GAAGZ,GAArD;;AAEA,IAAMmB,SAAS,GAAIJ,KAAD,IAAWF,eAAe,CAACO,sBAAD,CAAf,CAA+BL,KAA/B,CAA7B;;AACA,IAAMM,gBAAgB,GAAIJ,EAAD,IAAQD,iBAAiB,CAACI,sBAAD,CAAjB,CAAiCH,EAAjC,CAAjC;;AAEA,IAAMK,IAAI,GAAG;AACXd,SADW;AAEXC,UAFW;AAGXC,SAHW;AAIXC,YAJW;AAKXQ,WALW;AAMXE,kBANW;AAOXH;AAPW,CAAb;eAUeI,I;;;;;;;;;;;;AC9Gf;;;;AAGA,IAAMxD,KAAK,GAAG;AACZC,QAAM,EAAEwD,MAAM,CAAC,KAAD,CADF;AAEZhE,OAAK,EAAE,EAFK;AAGZiE,UAAQ,EAAE;AACRC,QAAI,EAAEF,MAAM,CAAC,CAAD,CADJ;AAERG,eAAW,EAAEH,MAAM,CAAC,CAAD,CAFX;AAGRI,iBAAa,EAAEJ,MAAM,CAAC,CAAD;AAHb,GAHE;AAQZR,OAAK,EAAEQ,MAAM,CAAC,EAAD,CARD;AASZnC,WAAS,EAAEmC,MAAM,CAAC,KAAD,CATL;AAUZ3C,iBAAe,EAAE;AACfC,OAAG,EAAE0C,MAAM,CAAC,IAAD,CADI;AAEfxC,SAAK,EAAEwC,MAAM,CAAC,IAAD;AAFE,GAVL;AAcZK,YAAU,EAAE;AACVC,YAAQ,EAAEN,MAAM,CAAC,KAAD;AADN,GAdA;AAiBZO,SAAO,EAAE;AACPC,YAAQ,EAAER,MAAM,CAAC,IAAD;AADT,GAjBG;AAoBZS,aAAW,EAAET,MAAM,CAAC,UAAD;AApBP,CAAd;AAuBA,IAAMU,IAAI,GAAG;AACXC,OAAK,EAAEX,MAAM,CAAC,EAAD,CADF;AAEXO,SAAO,EAAEP,MAAM,CAAC,IAAD;AAFJ,CAAb;AAKA,IAAMY,MAAM,GAAG;AACbL,SAAO,EAAEP,MAAM,CAAC,IAAD,CADF;AAEba,QAAM,EAAEb,MAAM,CAAC,IAAD,CAFD;AAGbc,MAAI,EAAEd,MAAM,CAAC,IAAD;AAHC,CAAf;AAMA,IAAMc,IAAI,GAAG;AACXH,OAAK,EAAEX,MAAM,CAAC,EAAD,CADF;AAEXe,OAAK,EAAEf,MAAM,CAAC,CAAC,UAAD,EAAa,UAAb,CAAD;AAFF,CAAb;AAKA,IAAM5C,KAAK,GAAG;AACZL,QAAM,EAANA,eADY;AAEZR,OAFY;AAGZuE,MAHY;AAIZJ,MAJY;AAKZE;AALY,CAAd;eAQexD,K;;;;;;;AClDf;;AACA,IAAM4D,YAAY,GAAIlF,GAAD,IAAS;AAC5B,MAAMmF,UAAU,GAAI/D,CAAD,IAAO;AACxB,QAAMgE,WAAW,GAAGC,4BACjBC,MADiB,CACV;AACNC,YAAM,EAAE,QADF;AAENC,aAAO,EAAE,CACP;AAAEC,YAAI,EAAE,QAAR;AAAkBC,YAAI,EAAE;AAAxB,OADO,EAEP;AAAED,YAAI,EAAE;AAAR,OAFO,EAGP;AAAEA,YAAI,EAAE;AAAR,OAHO,EAIP;AAAEA,YAAI,EAAE;AAAR,OAJO,EAKP;AAAEA,YAAI,EAAE,QAAR;AAAkBC,YAAI,EAAE;AAAxB,OALO;AAFH,KADU,EAWjBxC,IAXiB,CAWXyC,CAAD,IAAO;AACXC,aAAO,CAACC,GAAR,CAAYF,CAAZ;AACAA,OAAC,CAACG,OAAF;AACD,KAdiB,CAApB;AAeD,GAhBD;;AAiBAX,YAAU;AACX,CAnBD;;;;;;;;;;ACDA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;ACAA;;;;AAEA,IAAMY,WAAW,GAAG,MAAM;AACxB,SAAO;AACLC,QAAI,EAAE;AAAA,UAAC;AAACC,aAAK,EAAC;AAACjG;AAAD;AAAP,OAAD;AAAA,aACLW,CAAC,CAAC,aAAD,EAAgB;AAAC,iBAAQX,GAAG,CAACS,KAAJ,CAAUkE,WAAV;AAAT,OAAhB,EACA3E,GAAG,CAACgF,IAAJ,CAASC,KAAT,GAAiBiB,GAAjB,CAAqBC,IAAI,IAAIxF,CAAC,CAAC,oBAAD,EAAuB;AAACyF,eAAO,EAAE,MAAMpG,GAAG,CAACS,KAAJ,CAAUkE,WAAV,CAAsBwB,IAAtB,CAAhB;AAA8C,iBAASA;AAAvD,OAAvB,EAAsFA,IAAtF,CAA9B,CADA,CADI;AAAA;AADD,GAAP;AAMD,CAPD;;AASA,IAAME,aAAa,GAAG,MAAM;AAC1B,SAAO;AACLL,QAAI,EAAE,MAELrF,CAAC,CAAC,SAAD,EAAY,QAAZ;AAHG,GAAP;AAMD,CAPD;;AAUA,IAAM2F,OAAO,GAAG,WAAwB;AAAA,MAAvB;AAAEL,SAAK,EAAE;AAAEjG;AAAF;AAAT,GAAuB;AACtC4F,SAAO,CAACC,GAAR,CAAY7F,GAAG,CAACS,KAAJ,CAAUP,KAAV,CAAgBqG,IAA5B;AACA,SAAO;AACLP,QAAI,EAAE;AAAA,UAAC;AAAEC,aAAK,EAAE;AAAEjG;AAAF;AAAT,OAAD;AAAA,aACHW,CAAC,CAAC,YAAD,EAAeA,CAAC,CAAC,aAAD,EACfX,GAAG,CAACS,KAAJ,CAAUP,KAAV,CAAgBqG,IAAhB,IAAwB,MAAxB,IAAkC5F,CAAC,CAACoF,WAAD,EAAc;AAAC/F;AAAD,OAAd,CADpB,EAEfA,GAAG,CAACS,KAAJ,CAAUP,KAAV,CAAgBqG,IAAhB,IAAwB,QAAxB,IAAoC5F,CAAC,CAAC0F,aAAD,EAAgB;AAACrG;AAAD,OAAhB,CAFtB,CAAhB,CADE;AAAA;AADD,GAAP;AAQD,CAVD;;AAYA,IAAMwG,MAAM,GAAG,MAAM;AACnB,SAAO;AACLR,QAAI,EAAE,WAAwB;AAAA,UAAvB;AAAEC,aAAK,EAAE;AAAEjG;AAAF;AAAT,OAAuB;AAC5B,aAAOW,CAAC,CACN,YADM,EAENA,CAAC,CACC,aADD,EAECA,CAAC,CAAC,UAAD,EAAa,CACZM,eAAOiF,GAAP,CAAYO,CAAD,IAAO9F,CAAC,CAAC,SAAD,EAAY;AAAE+F,WAAG,YAAKD,CAAC,CAACvG,KAAP;AAAL,OAAZ,CAAnB,CADY,EAEZS,CAAC,CAAC,aAAD,EAAgB;AAAEgG,YAAI,EAAE;AAAR,OAAhB,EAAoC,CACnC1F,eAAOiF,GAAP,CAAYO,CAAD,IACT9F,CAAC,CACC,gBADD,EAEC;AACEyF,eAAO,EAAE,MAAMzF,CAAC,CAACT,KAAF,CAAQU,GAAR,CAAY6F,CAAC,CAACvG,KAAd,CADjB;AAEEwG,WAAG,YAAKD,CAAC,CAACvG,KAAP;AAFL,OAFD,EAMC,CAACS,CAAC,CAAC,WAAD,EAAc8F,CAAC,CAACF,IAAhB,CAAF,EAAyB5F,CAAC,CAAC,UAAD,EAAa;AAAE4F,YAAI,EAAEE,CAAC,CAACG;AAAV,OAAb,CAA1B,CAND,CADH,CADmC,EAYnCjG,CAAC,CACC,gBADD,EAEC;AACEyF,eAAO,EAAE,MAAMlB,YAAY,CAAClF,GAAD;AAD7B,OAFD,EAKC,CACEW,CAAC,CAAC,WAAD,EAAc,UAAd,CADH,EAEEA,CAAC,CAAC,UAAD,EAAa;AAAE4F,YAAI,EAAE;AAAR,OAAb,CAFH,CALD,CAZkC,CAApC,CAFW,CAAb,CAFF,CAFK,CAAR;AAgCD;AAlCI,GAAP;AAoCD,CArCD;;AAuCO,IAAMM,MAAM,GAAG,MAAM;AAC1B,SAAO;AACLb,QAAI,EAAE,WAAkC;AAAA,UAAjC;AAAEC,aAAK,EAAE;AAAEjG;AAAF,SAAT;AAAkB8G;AAAlB,OAAiC;AACtC,aAAOnG,CAAC,CAAC,SAAD,EAAY,CAClBA,CAAC,CAAC2F,OAAD,EAAU;AAAEtG;AAAF,OAAV,CADiB,EAElBW,CAAC,CAAC,aAAD,EAAgBmG,QAAhB,CAFiB,EAGlBnG,CAAC,CAAC6F,MAAD,EAAS;AAAExG;AAAF,OAAT,CAHiB,CAAZ,CAAR;AAKD;AAPI,GAAP;AASD,CAVM;;;;;;;;ACxEP;;AACA;;;;AAEA,IAAM+G,IAAI,GAAGC,QAAQ,CAACC,IAAtB;;AAEA,IAAIC,MAAM,CAACC,GAAX,EAAgB;AACdD,QAAM,CAACC,GAAP,CAAWC,MAAX;AACD;;AAED,IAAIC,OAAO,CAACC,GAAR,CAAYC,QAAZ,IAAwB,SAAe;AACzC3B,SAAO,CAACC,GAAR,CAAY,wCAAZ;AACD,CAFD,MAEO;AACL,MAAI,mBAAmB2B,SAAvB,EAAkC;AAChCC,UAAM,CAACC,gBAAP,CAAwB,MAAxB,EAAgC,MAAM;AACpCF,eAAS,CAACG,aAAV,CACGC,QADH,CACY,qBADZ,EAEG1E,IAFH,CAES2E,YAAD,IAAkB;AACtBjC,eAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCgC,YAAlC;AACD,OAJH,EAKGC,KALH,CAKUC,iBAAD,IAAuB;AAC5BnC,eAAO,CAACC,GAAR,CAAY,6BAAZ,EAA2CkC,iBAA3C;AACD,OAPH;AAQD,KATD;AAUD;AACF;;AACDpH,CAAC,CAACT,KAAF,CAAQ6G,IAAR,EAAc,OAAd,EAAuB,kBAAIzF,eAAJ,CAAvB;;;;;;ACzBA0F,QAAQ,CAACU,gBAAT,CAA0B,kBAA1B,EAA8C,MAAMM,OAAO,CAAC,YAAD,CAA3D;;;;;;;;;;;ACAO,IAAMC,KAAK,GAAG,MAAM;AACzB,SAAO;AACLjC,QAAI,EAAE,UAAwB;AAAA,UAAvB;AAAEC,aAAK,EAAE;AAAEjG;AAAF;AAAT,OAAuB;AAC5B,aAAOW,CAAC,CACN,QADM,EAENA,CAAC,CAAC,UAAD,EAAa,CACZA,CAAC,CAAC,UAAD,EAAaA,CAAC,CAAC,WAAD,EAAc;AAAEuH,mBAAW,EAAE;AAAf,OAAd,CAAd,CADW,EAEZvH,CAAC,CAAC,UAAD,EAAaA,CAAC,CAAC,WAAD,EAAc;AAAEuH,mBAAW,EAAE;AAAf,OAAd,CAAd,CAFW,EAGZvH,CAAC,CAAC,kBAAD,CAHW,EAIZA,CAAC,CAAC,UAAD,EAAa,CACZA,CAAC,CAAC,WAAD,EAAc,YAAd,CADW,EAEZA,CAAC,CAAC,cAAD,EAAiB;AAChBe,aAAK,EAAE,YADS;AAEhBwG,mBAAW,EAAE;AAFG,OAAjB,CAFW,CAAb,CAJW,EAWZvH,CAAC,CAAC,UAAD,EAAa,CACZA,CAAC,CAAC,WAAD,EAAc,YAAd,CADW,EAEZA,CAAC,CAAC,cAAD,EAAiB;AAChB,0BAAkB,QADF;AAEhB,yBAAiB,QAFD;AAGhBe,aAAK,EAAE;AAHS,OAAjB,CAFW,CAAb,CAXW,EAmBZf,CAAC,CAAC,UAAD,EAAa,CACZA,CAAC,CAAC,WAAD,EAAc,MAAd,CADW,EAEZA,CAAC,CAAC,cAAD,EAAiB;AAChBe,aAAK,EAAE,YADS;AAEhBwG,mBAAW,EAAE;AAFG,OAAjB,CAFW,CAAb,CAnBW,EA0BZvH,CAAC,CAAC,UAAD,EAAa,CACZA,CAAC,CAAC,WAAD,EAAc,QAAd,CADW,EAEZA,CAAC,CAAC,cAAD,EAAiB;AAAEuH,mBAAW,EAAE,OAAf;AAAwBC,gBAAQ,EAAE;AAAlC,OAAjB,CAFW,CAAb,CA1BW,EA8BZxH,CAAC,CAAC,UAAD,EAAa,CACZA,CAAC,CAAC,WAAD,EAAc,aAAd,CADW,EAEZA,CAAC,CAAC,cAAD,EAAiB;AAAEuH,mBAAW,EAAE,MAAf;AAAuBC,gBAAQ,EAAE;AAAjC,OAAjB,CAFW,CAAb,CA9BW,EAkCZxH,CAAC,CAAC,kBAAD,CAlCW,EAmCZA,CAAC,CAAC,UAAD,EAAa,CACZA,CAAC,CAAC,WAAD,EAAc,OAAd,CADW,EAEZA,CAAC,CAAC,cAAD,EAAiB;AAAEuH,mBAAW,EAAE,MAAf;AAAuBC,gBAAQ,EAAE;AAAjC,OAAjB,CAFW,CAAb,CAnCW,CAAb,CAFK,CAAR;AA2CD;AA7CI,GAAP;AA+CD,CAhDM;;;;;;;;;;;;;ACAP;;AAuBO,IAAMtC,GAAG,GAAGlF,CAAC,IAAIyH,CAAC,IAAI;AAC3BxC,SAAO,CAACC,GAAR,CAAYlF,CAAZ,EAAeyH,CAAf;AACA,SAAOA,CAAP;AACD,CAHM;;;;AAKA,IAAMC,WAAW,GAAGC,KAAK,IAAIC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAeH,KAAf,CAAX,CAA7B;;;;AAEA,IAAMI,cAAc,GAAGrI,IAAI,IAAIsI,KAAK,IACzC,iBAAK,qBAAS,CAACtI,IAAD,EAAO,MAAP,CAAT,CAAL,EAA+BsI,KAA/B,CADK;;;;AAGP,IAAMC,WAAW,GAAGD,KAAK,IACvB,oBACE,CAACE,SAAD,CADF,EAEE,CACEH,cAAc,CAAC,iBAAD,CAAd,CAAkCC,KAAlC,CADF,EAEED,cAAc,CAAC,aAAD,CAAd,CAA8BC,KAA9B,CAFF,CAFF,EAMEzC,GANF,CAMM4C,SANN,CADF;;AASA,IAAMC,kBAAkB,GAAG;AAAA,MAAC;AAC1BxC,QAD0B;AAE1ByC,UAF0B;AAG1BC,UAH0B;AAI1BC,WAJ0B;AAK1BC,SAL0B;AAM1BC;AAN0B,GAAD;AAAA,SAOpB;AACL7C,QADK;AAELyC,UAFK;AAGLC,UAHK;AAILC,WAJK;AAKLC,SAAK,EAAEA,KAAK,KAAKL,SAAS,CAACK,KAAK,CAACE,QAAP,CAAT,IAA6BP,SAAS,CAACK,KAAK,CAACG,MAAP,CAA3C,CALP;AAMLX,SAAK,EAAEC,WAAW,CAACQ,MAAD;AANb,GAPoB;AAAA,CAA3B;;AAgBA,IAAMG,kBAAkB,GAAG;AAAA,MAAC;AAC1BJ,SAD0B;AAE1BK,YAF0B;AAG1BC,YAH0B;AAI1BC,cAJ0B;AAK1BnD,QAL0B;AAM1BoD;AAN0B,GAAD;AAAA,SAOrB;AAAA,QAAC;AACLC,gBADK;AAELC,aAFK;AAGLC,YAHK;AAILC,YAJK;AAKLC,eALK;AAMLC,aANK;AAOLb;AAPK,KAAD;AAAA,WAQC;AACL7C,UADK;AAELoD,WAFK;AAGLO,WAAK,EAAE,iBAAK,GAAL,EAAUH,MAAV,CAHF;AAILC,eAJK;AAKLC,aALK;AAMLtB,WAAK,EAAEC,WAAW,CAACQ,MAAD,CANb;AAOLD,WAPK;AAQLK,cARK;AASLC,cATK;AAULC,gBAVK;AAWLE,gBAAU,EAAEA,UAAU,IAAIA,UAAU,CAACrD,IAXhC;AAYLsD,aAAO,EAAEA,OAAO,IAAIA,OAAO,CAACtD,IAZvB;AAaLuD;AAbK,KARD;AAAA,GAPqB;AAAA,CAA3B;;AA+BA,IAAMhB,SAAS,GAAG,oBAAQ,MAAR,EAAgB,OAAhB,CAAlB;;AAEO,IAAMqB,iBAAiB,GAAG;AAAA,MAAC;AAAE5D,QAAF;AAAQ4C,SAAR;AAAevF;AAAf,GAAD;AAAA,SAA0B;AACzDuF,SAAK,EAAEA,KAAK,KAAKL,SAAS,CAACK,KAAK,CAACE,QAAP,CAAT,IAA6BP,SAAS,CAACK,KAAK,CAACG,MAAP,CAA3C,CAD6C;AAEzDE,YAAQ,EAAE5F,EAF+C;AAGzD2C;AAHyD,GAA1B;AAAA,CAA1B;;;;AAMA,IAAM6D,SAAS,GAAG;AAAA,MAAC;AAAEV,cAAF;AAAcC,SAAd;AAAqBpD,QAArB;AAA2BiD,YAA3B;AAAqCL;AAArC,GAAD;AAAA,SAAmD;AAC1EA,SAD0E;AAE1EO,cAF0E;AAG1EC,SAH0E;AAI1EpD,QAJ0E;AAK1EiD;AAL0E,GAAnD;AAAA,CAAlB;;;;AAQA,IAAMa,OAAO,GAAGrK,GAAG,IAAIsK,IAAI,IAAIhC,KAAK,IAAItI,GAAG,CAAC8E,MAAJ,CAAWwF,IAAX,EAAiBhC,KAAjB,CAAxC;;;;AAEP,IAAMiC,cAAc,GAAGC,IAAI,IAAI9I,KAAK,IAAI,mBAAO,mBAAO8I,IAAP,EAAa9I,KAAb,CAAP,CAAxC;;AAEA,IAAM+I,aAAa,GAAGC,MAAM,IAAIC,IAAI,IAAI;AACtC,MAAIA,IAAJ,EAAU;AACR,WAAO,kBACL,UADK,EAELA,IAAI,CAAClB,QAFA,EAGL,gBAAI,qBAAS,YAAT,CAAJ,EAA4B,iBAAK,YAAL,EAAmBkB,IAAnB,CAA5B,EAAsDD,MAAtD,CAHK,CAAP;AAKD,GAND,MAMO;AACL,WAAOA,MAAP;AACD;AACF,CAVD;;AAYO,IAAME,gBAAgB,GAAG/F,KAAK,IAAID,IAAI,IAC3CA,IAAI,CAACsB,GAAL,CAASO,CAAC,IACR,oBACEgE,aAAa,CAAChE,CAAD,CADf,EAEE,iBAAK,mBAAO,UAAP,EAAmBA,CAAC,CAAC+C,QAArB,CAAL,CAFF,EAGE3E,KAHF,CADF,CADK;;;;AAQA,IAAMgG,QAAQ,GAAG5G,IAAI,IAC1BA,IAAI,CAACd,OAAL,CAAac,IAAI,CAACJ,cAAL,CAAoB,uBAApB,CAAb,CADK;;;;AAGA,IAAMiH,eAAe,GAAG9K,GAAG,IAAIiE,IAAI,IACxCA,IAAI,CACDd,OADH,CACWc,IAAI,CAACH,SAAL,CAAe9D,GAAG,CAACS,KAAJ,CAAUiD,KAAV,EAAf,CADX,EAEGwC,GAFH,CAEO,kBAAM,MAAN,CAFP,EAGGA,GAHH,CAGO,gBAAIiE,iBAAJ,CAHP,EAIGjE,GAJH,CAIOqE,cAAc,CAAC,OAAD,CAAd,CAAwB,IAAxB,CAJP,EAKGrE,GALH,CAKO0E,gBAAgB,CAAC5K,GAAG,CAACgF,IAAJ,CAASH,KAAT,EAAD,CALvB,CADK;;;;AAQP,IAAMkG,YAAY,GAAG/K,GAAG,IAAI0K,MAAM,IAChC,mBAAO,iBAAK,UAAL,EAAiBA,MAAjB,CAAP,EAAiC1K,GAAG,CAACS,KAAJ,CAAU8D,UAAV,CAAqBC,QAArB,EAAjC,CADF;;AAGO,IAAMwG,aAAa,GAAGR,IAAI,IAC/B,oBACES,UADF,EAEE,mBAAOT,IAAP,EAAa3B,SAAb,CAFF,CADK;;;;AAMA,IAAMqC,iBAAiB,GAAGlL,GAAG,IAClC,oBAAQ,CAAC+K,YAAY,CAAC/K,GAAD,CAAb,EAAoBgL,aAAa,CAAC,UAAD,CAAjC,CAAR,CADK;;;;AAGP,IAAMG,gBAAgB,GAAGR,IAAI,IAAIS,QAAQ,IACvC,iBAAK,qBAAS,YAAT,CAAL,EAA6B,MAAMA,QAAnC,EAA6CT,IAA7C,CADF;;AAGA,IAAMU,UAAU,GAAGC,GAAG,KAAK;AACzBrE,MAAI,EAAEqE;AADmB,CAAL,CAAtB;;AAIA,IAAMC,WAAW,GAAGvL,GAAG,IAAI2K,IAAI,IAAI;AACjCA,MAAI,CAACa,KAAL,GAAa,mBACX,mBAAO,YAAP,EAAqBb,IAAI,CAACjB,UAA1B,CADW,EAEX1J,GAAG,CAACgF,IAAJ,CAASH,KAAT,EAFW,EAGX4G,MAHF;AAIA,SAAOd,IAAP;AACD,CAND;;AAQO,IAAMe,KAAK,GAAG,CAAC1L,GAAD,EAAM2K,IAAN,EAAYS,QAAZ,KACnB,oBACEC,UADF,EAEEE,WAAW,CAACvL,GAAD,CAFb,EAGEmL,gBAAgB,CAACR,IAAD,CAHlB,EAIES,QAJF,CADK;;;;AAOA,IAAMO,gBAAgB,GAAG3L,GAAG,IAAIiE,IAAI,IAAI0G,IAAI,IAAIxE,IAAI,IACzDlC,IAAI,CACDb,QADH,CACYa,IAAI,CAACJ,cAAL,CAAoB,UAApB,CADZ,EAC6C6H,KAAK,CAAC1L,GAAD,EAAM2K,IAAN,EAAYxE,IAAZ,CADlD,EAEGyF,KAFH,CAESC,CAAC,IAAIhB,QAAQ,CAAC5G,IAAD,CAFtB,EAGGiC,GAHH,CAGOlG,GAAG,CAACgF,IAAJ,CAASH,KAHhB,CADK;;;;AAMA,IAAMiH,mBAAmB,GAAG9L,GAAG,IAAIiE,IAAI,IAAI0G,IAAI,IAAIxE,IAAI,IAC5DlC,IAAI,CACDZ,OADH,CAEIY,IAAI,CAACJ,cAAL,qBAAiC8G,IAAI,CAAClB,QAAtC,EAFJ,EAGIiC,KAAK,CAAC1L,GAAD,EAAM2K,IAAN,EAAYxE,IAAZ,CAHT,EAKGyF,KALH,CAKSC,CAAC,IAAIhB,QAAQ,CAAC5G,IAAD,CALtB,CADK;;;;AAQA,IAAM8H,cAAc,GAAG9H,IAAI,IAAIL,EAAE,IACtCK,IAAI,CACDX,UADH,CACcW,IAAI,CAACJ,cAAL,oBAAgCD,EAAhC,EADd,EAEGgI,KAFH,CAESC,CAAC,IAAIhB,QAAQ,CAAC5G,IAAD,CAFtB,CADK;;;;AAKA,IAAM+H,qBAAqB,GAAGhM,GAAG,IAAIiE,IAAI,IAAIqH,GAAG,IACrDrH,IAAI,CACDZ,OADH,CACWY,IAAI,CAACJ,cAAL,oBAAgC7D,GAAG,CAAC4E,IAAJ,CAASH,OAAT,GAAmBgF,QAAnD,EADX,EAC2E;AACvExC,MAAI,EAAEqE;AADiE,CAD3E,EAIGM,KAJH,CAIS;AAAA,MAAC;AAAEnC;AAAF,GAAD;AAAA,SAAkBwC,kBAAkB,CAACjM,GAAD,CAAlB,CAAwBiE,IAAxB,EAA8BwF,QAA9B,CAAlB;AAAA,CAJT,CADK;;;;AAOP,IAAMyC,cAAc,GAAGlM,GAAG,IAAIiE,IAAI,IAAI0G,IAAI,IACxC1G,IAAI,CACDd,OADH,CACWc,IAAI,CAACD,gBAAL,CAAsB2G,IAAI,CAACnB,QAA3B,CADX,EAEGtD,GAFH,CAEOqD,kBAAkB,CAACoB,IAAD,CAFzB,CADF;;AAKA,IAAMwB,gBAAgB,GAAGlI,IAAI,IAAIL,EAAE,IACjCK,IAAI,CAACd,OAAL,CAAac,IAAI,CAACJ,cAAL,oBAAgCD,EAAhC,EAAb,CADF;;AAGO,IAAMqI,kBAAkB,GAAGjM,GAAG,IAAIiE,IAAI,IAAIL,EAAE,IACjDuI,gBAAgB,CAAClI,IAAD,CAAhB,CAAuBL,EAAvB,EAA2BgI,KAA3B,CAAiCM,cAAc,CAAClM,GAAD,CAAd,CAAoBiE,IAApB,CAAjC,CADK;;;;AAGA,IAAMmI,qBAAqB,GAAGpM,GAAG,IACtC,mBAAO,mBAAO,YAAP,EAAqBA,GAAG,CAACS,KAAJ,CAAUkE,WAAV,EAArB,CAAP,EAAsD3E,GAAG,CAACgF,IAAJ,CAASH,KAAT,EAAtD,CADK;;;;AAGA,IAAMwH,cAAc,GAAGpI,IAAI,IAAIqI,UAAU,IAC9CrI,IAAI,CAACd,OAAL,CAAamJ,UAAb,EAAyBpG,GAAzB,CAA6B6C,kBAA7B,CADK;;;;;;;;;;;;;ACrNP;;AACA;;AAMA;;;;AAEC,IAAMwD,UAAU,GAAIvM,GAAD,IAAU2K,IAAD,IACzB,yBAAe1G,aAAf,EAAqB0G,IAAI,CAAClB,QAA1B,EAAoC+C,IAApC,CACE,kBAAQxM,GAAR,EAAa,SAAb,CADF,EAEGyM,YAAD,IAAkB;AAChB9L,GAAC,CAACT,KAAF,CAAQU,GAAR,CAAY,OAAZ;AACAZ,KAAG,CAACgF,IAAJ,CAASH,KAAT,CAAe4H,YAAf;AACD,CALH,CADH;;AASD,IAAMC,YAAY,GAAI1M,GAAD,IAAUiE,IAAD,IAC5B,mBAASA,IAAT,EAAeuI,IAAf,CAAoBxM,GAAG,CAAC8E,MAAxB,EAAgC9E,GAAG,CAACgF,IAAJ,CAASH,KAAzC,CADF;;AAGO,IAAM8H,IAAI,GAAG,MAAM;AACxB,SAAO;AACLC,UAAM,EAAE;AAAA,UAAC;AAAE3G,aAAK,EAAE;AAAEjG;AAAF;AAAT,OAAD;AAAA,aAAwB0M,YAAY,CAAC1M,GAAD,CAAZ,CAAkBiE,aAAlB,CAAxB;AAAA,KADH;AAEL+B,QAAI,EAAE,WAAwB;AAAA,UAAvB;AAAEC,aAAK,EAAE;AAAEjG;AAAF;AAAT,OAAuB;AAC5B,aAAOW,CAAC,CAAC,aAAD,EACNA,CAAC,CAAC,UAAD,EACC,gCAAsBX,GAAtB,EAA2BkG,GAA3B,CACEyE,IAAI,IACFA,IAAI,CAACjB,UAAL,IAAmB1J,GAAG,CAACS,KAAJ,CAAUkE,WAAV,EAAnB,IACAhE,CAAC,CAAC,kBAAD,EACCA,CAAC,CAAC,UAAD,EACDA,CAAC,CAAC,YAAD,EAAeA,CAAC,CAAC,SAAD,EAAY;AAAEkM,WAAG,EAAElC,IAAI,CAACxB;AAAZ,OAAZ,CAAhB,CADA,EAEDxI,CAAC,CAAC,WAAD,EACCA,CAAC,CAAC,IAAD,EAAOgK,IAAI,CAACpE,IAAZ,CADF,EAEC5F,CAAC,CAAC,IAAD,EAAOgK,IAAI,CAACjB,UAAZ,CAFF,EAGC/I,CAAC,CAAC,GAAD,EAAMgK,IAAI,CAAChB,KAAX,CAHF,CAFA,CADF,EASDhJ,CAAC,CAAC,kBAAD,EAAqB;AACpBmM,YAAI,EAAE;AADc,OAArB,EAGCnM,CAAC,CAAC,iBAAD,EAAoB;AACnBoM,aAAK,EAAE,QADY;AAEnB3G,eAAO,EAAE,MAAKmG,UAAU,CAACvM,GAAD,CAAV,CAAgB2K,IAAhB;AAFK,OAApB,EAGE,QAHF,CAHF,CATA,CAHL,CADD,CADK,CAAR;AAwBD;AA3BI,GAAP;AA6BD,CA9BM;;;;;;;;;;;;ACtBP;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AACA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AACA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;ACAO,IAAMqC,UAAU,GAAG,MAAM;AAC9B,SAAO;AACLhH,QAAI,EAAE,UAAwB;AAAA,UAAvB;AAAEC,aAAK,EAAE;AAAEjG;AAAF;AAAT,OAAuB;AAC5B,aAAOW,CAAC,CAAC,SAAD,EAAY,QAAZ,CAAR;AAED;AAJI,GAAP;AAMD,CAPM;;;;;;;;;;;;;ACFA,IAAMsM,GAAG,GAAG,MAAM;AACvB,SAAO;AACLjH,QAAI,EAAE,UAA8B;AAAA,UAA7B;AAAEC,aAAK,EAAE;AAAEM,cAAF;AAAQvG;AAAR;AAAT,OAA6B;AAClC,aAAOW,CAAC,CAAC,MAAD,EAAS4F,IAAT,CAAR;AACD;AAHI,GAAP;AAKD,CANM;;;;;;;;;;;;;ACAP;;AACA;;;;AAEA,IAAMtF,MAAM,GAAG,oBAAQ,CAACiM,mBAAD,CAAR,CAAf;eACejM,M;;;;;;;;;;;;ACJf;;AACA;;AAEA,IAAMA,MAAM,GAAG,CACb;AACE2C,IAAE,EAAE,MADN;AAEE2C,MAAI,EAAE,MAFR;AAGEK,MAAI,EAAE,MAHR;AAIE1G,OAAK,EAAE,OAJT;AAKEiN,OAAK,EAAE,KALT;AAME5M,OAAK,EAAE,EANT;AAOEuG,UAAQ,EAAE,EAPZ;AAQEsG,SAAO,EAAE,EARX;AASEjN,SAAO,EAAE,CAACH,GAAD,EAAMI,IAAN,EAAYC,IAAZ,EAAkBC,SAAlB,KAAgC,CAAE,CAT7C;AAUES,WAAS,EAAGf,GAAD,IAASW,CAAC,CAACkG,kBAAD,EAAS;AAAE7G;AAAF,GAAT,EAAkBW,CAAC,CAACgM,WAAD,EAAO;AAAE3M;AAAF,GAAP,CAAnB;AAVvB,CADa,EAaX;AACA4D,IAAE,EAAE,QADJ;AAEA2C,MAAI,EAAE,QAFN;AAGAK,MAAI,EAAE,gBAHN;AAIA1G,OAAK,EAAE,SAJP;AAKAiN,OAAK,EAAE,KALP;AAMA5M,OAAK,EAAE,EANP;AAOAuG,UAAQ,EAAE,EAPV;AAQAsG,SAAO,EAAE,EART;AASAjN,SAAO,EAAE,CAACH,GAAD,EAAMI,IAAN,EAAYC,IAAZ,EAAkBC,SAAlB,KAAgC,CAAE,CAT3C;AAUAS,WAAS,EAAGf,GAAD,IAASW,CAAC,CAACkG,kBAAD,EAAS;AAAE7G;AAAF,GAAT,EAAkBW,CAAC,CAACqM,iBAAD,EAAa;AAAEhN;AAAF,GAAb,CAAnB;AAVrB,CAbW,CAAf;eA2BeiB,M;;;;;;;;;;;AC9BR,IAAMoM,UAAU,GAAG,kCAAnB;;AACA,IAAMC,QAAQ,GAAG;AACtBC,eAAa,EACX;AAFoB,CAAjB;;AAIA,IAAMC,WAAW,GAAG,8BAApB;;AAEA,IAAMC,YAAY,GAAG,kCAArB;;AACA,IAAM1J,aAAa,GAAG,wBAAtB;;AACA,IAAM2J,SAAS,GACpB,yDADK","file":"docs/app.js","sourcesContent":["\nconst toRoutes = (mdl) => (acc, route) => {\n  acc[route.route] = {\n    onmatch: (args, path, fullroute) => {\n      if (route.group.includes(\"authenticated\") && !mdl.state.isAuth()) {\n        m.route.set(m.route.get())\n      }\n      mdl.state.route = route\n      route.onmatch(mdl, args, path, fullroute)\n    },\n    render: () => route.component(mdl),\n  }\n  return acc\n}\n\nconst App = (mdl) => mdl.Routes.reduce(toRoutes(mdl), {})\n\nexport default App\n","import { tvMazeApiKey, tvMazeBaseUrl } from \"./secrets.js\"\nimport Task from \"data.task\"\nimport Model from \"./Models.js\"\n\nfunction onProgress(e) {\n  if (e.lengthComputable) {\n    // console.log(\"onprogress\", e.total, e.loaded)\n    Model.state.loadingProgress.max(e.total)\n    Model.state.loadingProgress.value(e.loaded)\n    m.redraw()\n  }\n}\n\nfunction onLoad() {\n  return false\n}\n\nfunction onLoadStart() {\n  Model.state.isLoading(true)\n  return false\n}\nfunction onLoadEnd() {\n  Model.state.isLoading(false)\n  Model.state.loadingProgress.max(0)\n  Model.state.loadingProgress.value(0)\n  return false\n}\n\nconst xhrProgress = {\n  config: (xhr) => {\n    // console.log(xhr)\n    xhr.onprogress = onProgress\n    xhr.onload = onLoad\n    xhr.onloadstart = onLoadStart\n    xhr.onloadend = onLoadEnd\n  }\n}\n\nconst _http = (mdl) => {\n  mdl.state.isLoading(!mdl.state.isLoading)\n  return m.request\n}\n\nconst headers = (url, args) => {\n  // let tmdbBearerToken = url.includes(\"themoviedb\") && tmdbAuth\n  let contentType =\n    { \"Content-Type\": \"application/json;charset=utf-8\" } &&\n    [\"Get\", \"POST\", \"PUT\", \"PATCH\"].includes(args.method)\n  return {\n    headers: {\n      // ...tmdbBearerToken,\n      ...contentType\n    }\n  }\n}\n\nconst _task = (url) => (args) =>\n  new Task((rej, res) =>\n    _http(Model)(url, { ...args, ...headers(url, args), ...xhrProgress }).then(\n      res,\n      rej\n    )\n  )\n\nconst getTask = (url, args = {}) =>\n  _task(url)({\n    ...args,\n    method: \"GET\"\n  })\nconst postTask = (url, args = {}) =>\n  _task(url)({\n    ...args,\n    method: \"POST\"\n  })\nconst putTask = (url, args = {}) => {\n  // console.log(args)\n  return _task(url)({\n    ...args,\n    method: \"PUT\"\n  })\n}\nconst deleteTask = (url, args = {}) =>\n  _task(url)({\n    ...args,\n    method: \"DELETE\"\n  })\n\nconst backEndlessBaseUrl =\n  \"https://api.backendless.com/7F421158-889B-FD93-FF62-1ACDCD07AD00/1D9BEF3E-0CCC-D6C6-FF60-1A0B849A3E00/data/\"\n\nconst tvMazeSearchUrl = (baseUrl) => (query) =>\n  `${baseUrl}/search/shows?q=${query}`\n\nconst tvMazeShowByIdUrl = (baseUrl) => (id) => `${baseUrl}/shows/${id}`\n\nconst backendlessUrl = (url) => backEndlessBaseUrl + url\n\nconst searchUrl = (query) => tvMazeSearchUrl(tvMazeBaseUrl)(query)\nconst tvMazeDetailsUrl = (id) => tvMazeShowByIdUrl(tvMazeBaseUrl)(id)\n\nconst http = {\n  getTask,\n  postTask,\n  putTask,\n  deleteTask,\n  searchUrl,\n  tvMazeDetailsUrl,\n  backendlessUrl\n}\n\nexport default http\n","import Routes from './routes'\n\n\nconst state = {\n  isAuth: Stream(false),\n  route: \"\",\n  paginate: {\n    page: Stream(1),\n    total_pages: Stream(0),\n    total_results: Stream(0)\n  },\n  query: Stream(\"\"),\n  isLoading: Stream(false),\n  loadingProgress: {\n    max: Stream(null),\n    value: Stream(null)\n  },\n  searchItem: {\n    showMenu: Stream(false)\n  },\n  details: {\n    selected: Stream(null)\n  },\n  currentList: Stream(\"Watching\")\n}\n\nconst data = {\n  shows: Stream([]),\n  details: Stream(null)\n}\n\nconst errors = {\n  details: Stream(null),\n  search: Stream(null),\n  user: Stream(null)\n}\n\nconst user = {\n  shows: Stream([]),\n  lists: Stream([\"Watching\", \"Wishlist\"])\n}\n\nconst Model = {\n  Routes,\n  state,\n  user,\n  data,\n  errors\n}\n\nexport default Model\n","import { actionSheetController } from \"@ionic/core\"\nconst showSettings = (mdl) => {\n  const showAction = (e) => {\n    const actionSheet = actionSheetController\n      .create({\n        header: \"Albums\",\n        buttons: [\n          { text: \"Delete\", role: \"destructive\" },\n          { text: \"Share\" },\n          { text: \"Play\" },\n          { text: \"Favorite\" },\n          { text: \"Cancel\", role: \"cancel\" },\n        ],\n      })\n      .then((x) => {\n        console.log(x)\n        x.present()\n      })\n  }\n  showAction()\n}\n","export * from \"./layout.js\"\n","import Routes from \"../routes/index.js\"\n\nconst HomeToolBar = () => {\n  return {\n    view: ({attrs:{mdl}}) =>\n     m(\"ion-segment\", {\"value\":mdl.state.currentList()},\n      mdl.user.lists().map(list => m(\"ion-segment-button\", {onclick: () => mdl.state.currentList(list),  \"value\": list }, list))\n    )\n  }\n}\n\nconst SearchToolBar = () => {\n  return {\n    view: () =>\n\n     m('.search', 'search')\n\n  }\n}\n\n\nconst Toolbar = ({ attrs: { mdl } }) => {\n  console.log(mdl.state.route.name)\n  return {\n    view: ({ attrs: { mdl } }) =>\n       m(\"ion-header\", m(\"ion-toolbar\",\n         mdl.state.route.name == 'home' && m(HomeToolBar, {mdl}),\n         mdl.state.route.name == 'search' && m(SearchToolBar, {mdl})\n      ))\n    ,\n  }\n}\n\nconst Footer = () => {\n  return {\n    view: ({ attrs: { mdl } }) => {\n      return m(\n        \"ion-footer\",\n        m(\n          \"ion-tab-bar\",\n          m(\"ion-tabs\", [\n            Routes.map((r) => m(\"ion-tab\", { tab: `${r.route}` })),\n            m(\"ion-tab-bar\", { slot: \"bottom\" }, [\n              Routes.map((r) =>\n                m(\n                  \"ion-tab-button\",\n                  {\n                    onclick: () => m.route.set(r.route),\n                    tab: `${r.route}`,\n                  },\n                  [m(\"ion-label\", r.name), m(\"ion-icon\", { name: r.icon })]\n                )\n              ),\n\n              m(\n                \"ion-tab-button\",\n                {\n                  onclick: () => showSettings(mdl),\n                },\n                [\n                  m(\"ion-label\", \"Settings\"),\n                  m(\"ion-icon\", { name: \"ellipsis-vertical-outline\" }),\n                ]\n              ),\n            ]),\n          ])\n        )\n      )\n    },\n  }\n}\n\nexport const Layout = () => {\n  return {\n    view: ({ attrs: { mdl }, children }) => {\n      return m(\"ion-app\", [\n        m(Toolbar, { mdl }),\n        m(\"ion-content\", children),\n        m(Footer, { mdl }),\n      ])\n    },\n  }\n}\n","import App from \"./App.js\"\nimport Model from \"Models\"\n\nconst root = document.body\n\nif (module.hot) {\n  module.hot.accept()\n}\n\nif (process.env.NODE_ENV == \"development\") {\n  console.log(\"Looks like we are in development mode!\")\n} else {\n  if (\"serviceWorker\" in navigator) {\n    window.addEventListener(\"load\", () => {\n      navigator.serviceWorker\n        .register(\"./service-worker.js\")\n        .then((registration) => {\n          console.log(\"⚙️ SW registered: \", registration)\n        })\n        .catch((registrationError) => {\n          console.log(\"🧟 SW registration failed: \", registrationError)\n        })\n    })\n  }\n}\nm.route(root, \"/home\", App(Model))\n","document.addEventListener(\"DOMContentLoaded\", () => require(\"./index.js\"))\n","export const Alarm = () => {\n  return {\n    view: ({ attrs: { mdl } }) => {\n      return m(\n        \".alarm\",\n        m(\"ion-list\", [\n          m(\"ion-item\", m(\"ion-input\", { placeholder: \"Title\" })),\n          m(\"ion-item\", m(\"ion-input\", { placeholder: \"Location\" })),\n          m(\"ion-item-divider\"),\n          m(\"ion-item\", [\n            m(\"ion-label\", \"Start Date\"),\n            m(\"ion-datetime\", {\n              value: \"1990-02-19\",\n              placeholder: \"Select Date\",\n            }),\n          ]),\n          m(\"ion-item\", [\n            m(\"ion-label\", \"Start Time\"),\n            m(\"ion-datetime\", {\n              \"display-format\": \"h:mm A\",\n              \"picker-format\": \"h:mm A\",\n              value: \"1990-02-19T07:43Z\",\n            }),\n          ]),\n          m(\"ion-item\", [\n            m(\"ion-label\", \"Ends\"),\n            m(\"ion-datetime\", {\n              value: \"1990-02-20\",\n              placeholder: \"Select Date\",\n            }),\n          ]),\n          m(\"ion-item\", [\n            m(\"ion-label\", \"Repeat\"),\n            m(\"ion-datetime\", { placeholder: \"Never\", disabled: false }),\n          ]),\n          m(\"ion-item\", [\n            m(\"ion-label\", \"Travel Time\"),\n            m(\"ion-datetime\", { placeholder: \"None\", disabled: false }),\n          ]),\n          m(\"ion-item-divider\"),\n          m(\"ion-item\", [\n            m(\"ion-label\", \"Alert\"),\n            m(\"ion-datetime\", { placeholder: \"None\", disabled: false }),\n          ]),\n        ])\n      )\n    },\n  }\n}\n","import {\n  anyPass,\n  assoc,\n  compose,\n  equals,\n  filter,\n  find,\n  join,\n  lensPath,\n  lensProp,\n  map,\n  not,\n  over,\n  pluck,\n  propEq,\n  prop,\n  reject,\n  replace,\n  set,\n  view,\n  without\n} from \"ramda\"\n\nexport const log = m => v => {\n  console.log(m, v)\n  return v\n}\n\nexport const formatError = error => JSON.parse(JSON.stringify(error))\n\nexport const getEpisodeLink = path => links =>\n  view(lensPath([path, \"href\"]), links)\n\nconst formatLinks = links =>\n  without(\n    [undefined],\n    [\n      getEpisodeLink(\"previousepisode\")(links),\n      getEpisodeLink(\"nextepisode\")(links)\n    ]\n  ).map(makeHttps)\n\nconst toEpisodeViewModel = ({\n  name,\n  season,\n  number,\n  airdate,\n  image,\n  _links\n}) => ({\n  name,\n  season,\n  number,\n  airdate,\n  image: image && (makeHttps(image.original) || makeHttps(image.medium)),\n  links: formatLinks(_links)\n})\n\nconst toDetailsViewModel = ({\n  image,\n  tvmazeId,\n  objectId,\n  listStatus,\n  name,\n  notes\n}) => ({\n  webChannel,\n  network,\n  status,\n  genres,\n  premiered,\n  summary,\n  _links\n}) => ({\n  name,\n  notes,\n  genre: join(\" \", genres),\n  premiered,\n  summary,\n  links: formatLinks(_links),\n  image,\n  tvmazeId,\n  objectId,\n  listStatus,\n  webChannel: webChannel && webChannel.name,\n  network: network && network.name,\n  status\n})\n\nconst makeHttps = replace(\"http\", \"https\")\n\nexport const toSearchViewModel = ({ name, image, id }) => ({\n  image: image && (makeHttps(image.original) || makeHttps(image.medium)),\n  tvmazeId: id,\n  name\n})\n\nexport const toDbModel = ({ listStatus, notes, name, tvmazeId, image }) => ({\n  image,\n  listStatus,\n  notes,\n  name,\n  tvmazeId\n})\n\nexport const onError = mdl => type => error => mdl.errors[type](error)\n\nconst rejectWithAttr = attr => value => reject(propEq(attr, value))\n\nconst updateResults = result => show => {\n  if (show) {\n    return assoc(\n      \"objectId\",\n      show.objectId,\n      set(lensProp(\"listStatus\"), prop(\"listStatus\", show), result)\n    )\n  } else {\n    return result\n  }\n}\n\nexport const updateShowStatus = shows => data =>\n  data.map(r =>\n    compose(\n      updateResults(r),\n      find(propEq(\"tvmazeId\", r.tvmazeId))\n    )(shows)\n  )\n\nexport const getShows = http =>\n  http.getTask(http.backendlessUrl(\"devshows?pagesize=100\"))\n\nexport const searchShowsTask = mdl => http =>\n  http\n    .getTask(http.searchUrl(mdl.state.query()))\n    .map(pluck(\"show\"))\n    .map(map(toSearchViewModel))\n    .map(rejectWithAttr(\"image\")(null))\n    .map(updateShowStatus(mdl.user.shows()))\n\nconst itemSelected = mdl => result =>\n  equals(prop(\"tvmazeId\", result), mdl.state.searchItem.showMenu())\n\nexport const propIsDefined = attr =>\n  compose(\n    not,\n    propEq(attr, undefined)\n  )\n\nexport const showListSelection = mdl =>\n  anyPass([itemSelected(mdl), propIsDefined(\"objectId\")])\n\nconst updateListStatus = show => listType =>\n  over(lensProp(\"listStatus\"), () => listType, show)\n\nconst createBody = dto => ({\n  body: dto\n})\n\nconst updateOrder = mdl => show => {\n  show.order = filter(\n    propEq(\"listStatus\", show.listStatus),\n    mdl.user.shows()\n  ).length\n  return show\n}\n\nexport const toDto = (mdl, show, listType) =>\n  compose(\n    createBody,\n    updateOrder(mdl),\n    updateListStatus(show)\n  )(listType)\n\nexport const addUserShowsTask = mdl => http => show => list =>\n  http\n    .postTask(http.backendlessUrl(\"devshows\"), toDto(mdl, show, list))\n    .chain(_ => getShows(http))\n    .map(mdl.user.shows)\n\nexport const updateUserShowsTask = mdl => http => show => list =>\n  http\n    .putTask(\n      http.backendlessUrl(`devshows\\\\${show.objectId}`),\n      toDto(mdl, show, list)\n    )\n    .chain(_ => getShows(http))\n\nexport const deleteShowTask = http => id =>\n  http\n    .deleteTask(http.backendlessUrl(`devshows/${id}`))\n    .chain(_ => getShows(http))\n\nexport const updateShowDetailsTask = mdl => http => dto =>\n  http\n    .putTask(http.backendlessUrl(`devshows/${mdl.data.details().objectId}`), {\n      body: dto\n    })\n    .chain(({ objectId }) => getShowDetailsTask(mdl)(http)(objectId))\n\nconst getShowDetails = mdl => http => show =>\n  http\n    .getTask(http.tvMazeDetailsUrl(show.tvmazeId))\n    .map(toDetailsViewModel(show))\n\nconst findShowInDbTask = http => id =>\n  http.getTask(http.backendlessUrl(`devshows/${id}`))\n\nexport const getShowDetailsTask = mdl => http => id =>\n  findShowInDbTask(http)(id).chain(getShowDetails(mdl)(http))\n\nexport const filterShowsByListType = mdl =>\n  filter(propEq(\"listStatus\", mdl.state.currentList()), mdl.user.shows())\n\nexport const getEpisodeTask = http => episodeUrl =>\n  http.getTask(episodeUrl).map(toEpisodeViewModel)\n","\nimport http from \"../Http.js\"\nimport {\n  getShows,\n  filterShowsByListType,\n  deleteShowTask,\n  onError\n} from \"./fns.js\"\nimport { isEmpty } from \"ramda\"\n\n const deleteShow = (mdl) => (show) =>\n    deleteShowTask(http)(show.objectId).fork(\n      onError(mdl)(\"details\"),\n      (updatedShows) => {\n        m.route.set(\"/home\")\n        mdl.user.shows(updatedShows)\n      }\n    )\n\nconst getShowsTask = (mdl) => (http) =>\n  getShows(http).fork(mdl.errors, mdl.user.shows)\n\nexport const Home = () => {\n  return {\n    oninit: ({ attrs: { mdl } }) => getShowsTask(mdl)(http),\n    view: ({ attrs: { mdl } }) => {\n      return m('ion-content',\n        m('ion-list',\n          filterShowsByListType(mdl).map(\n            show =>\n              show.listStatus == mdl.state.currentList() &&\n              m('ion-item-sliding',\n                m('ion-item',\n                m('ion-avatar', m('ion-img', { src: show.image })),\n                m('ion-label',\n                  m('h2', show.name),\n                  m('h3', show.listStatus),\n                  m('p', show.notes)\n                ),\n              ),\n              m('ion-item-options', {\n                side: 'end',\n              },\n                m('ion-item-option', {\n                  color: 'danger',\n                  onclick: ()=> deleteShow(mdl)(show)\n                }, 'Delete'))\n            )\n        )\n      ))\n    },\n  }\n}\n","export * from \"./home.js\"\nexport * from \"./alarm.js\"\nexport * from \"./search-page.js\"\n","\n\nexport const SearchPage = () => {\n  return {\n    view: ({ attrs: { mdl } }) => {\n      return m(\".search\", 'SEARCH'\n      )\n    },\n  }\n}\n","export const Tab = () => {\n  return {\n    view: ({ attrs: { name, mdl } }) => {\n      return m(\".tab\", name)\n    },\n  }\n}\n","import MainRoutes from \"./main-routes.js\"\nimport { flatten } from \"ramda\"\n\nconst Routes = flatten([MainRoutes])\nexport default Routes\n","import { Home, Alarm, SearchPage } from \"pages\"\nimport { Layout } from \"components\"\n\nconst Routes = [\n  {\n    id: \"home\",\n    name: \"home\",\n    icon: \"home\",\n    route: \"/home\",\n    isNav: false,\n    group: [],\n    children: [],\n    options: [],\n    onmatch: (mdl, args, path, fullroute) => {},\n    component: (mdl) => m(Layout, { mdl }, m(Home, { mdl })),\n  },\n    {\n    id: \"search\",\n    name: \"search\",\n    icon: \"search-outline\",\n    route: \"/search\",\n    isNav: false,\n    group: [],\n    children: [],\n    options: [],\n    onmatch: (mdl, args, path, fullroute) => {},\n    component: (mdl) => m(Layout, { mdl }, m(SearchPage, { mdl })),\n  }\n]\n\nexport default Routes\n","export const tmdbApiKey = \"1e4d78ab60660282c63379725fc9b111\"\nexport const tmdbAuth = {\n  Authorization:\n    \"eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIxZTRkNzhhYjYwNjYwMjgyYzYzMzc5NzI1ZmM5YjExMSIsInN1YiI6IjVkYmNjMjBjOTdhNGU2MDAxNTdjNjkxYyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.TgL91o4VHyQo4cm3KLx6nVICyrn8E8pXDC1zMdlDFsU\"\n}\nexport const tmdbBaseUrl = \"https://api.themoviedb.org/3\"\n\nexport const tvMazeApiKey = \"F4-A2-dEzYi0oXvzbNWON3_nrnPSt9Yv\"\nexport const tvMazeBaseUrl = \"https://api.tvmaze.com\"\nexport const prismaUrl =\n  \"https://eu1.prisma.sh/boaz-blake-8951e1/whensMyShow/dev\"\n"]}